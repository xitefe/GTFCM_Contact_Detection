//
// File: evaluateMyFIS.cpp
//
// MATLAB Coder version            : 24.1
// C/C++ source code generated on  : 2025-04-18 17:32:54
//

// Include Files
#include "evaluateMyFIS.h"
#include "centroid.h"
#include "evaluateAndMethod.h"
#include "minOrMax.h"
#include "trimf.h"
#include <algorithm>
#include <cmath>
#include <cstring>
#include <emmintrin.h>

// Function Definitions
//
// fisData =
// getFISCodeGenerationData('mamdanitype2_sliding.fis','FuzzySetType','type2');
// opt = evalfisOptions('NumSamplePoints',51);
//
// Arguments    : const double x[4]
// Return Type  : double
//
double evaluateMyFIS(const double x[4])
{
  static const double outputMFCache[606]{1.0,
                                         0.0,
                                         0.0,
                                         0.97600000000000009,
                                         0.0,
                                         0.0,
                                         0.95200000000000007,
                                         0.0,
                                         0.0,
                                         0.92800000000000016,
                                         0.0,
                                         0.0,
                                         0.90400000000000014,
                                         0.0,
                                         0.0,
                                         0.88000000000000023,
                                         0.0,
                                         0.0,
                                         0.85600000000000021,
                                         0.0,
                                         0.0,
                                         0.83200000000000018,
                                         0.0,
                                         0.0,
                                         0.80800000000000016,
                                         0.0,
                                         0.0,
                                         0.78400000000000014,
                                         0.0,
                                         0.0,
                                         0.76000000000000012,
                                         0.0,
                                         0.0,
                                         0.73600000000000032,
                                         0.0,
                                         0.0,
                                         0.7120000000000003,
                                         0.0,
                                         0.0,
                                         0.68800000000000028,
                                         0.0,
                                         0.0,
                                         0.66400000000000026,
                                         0.0,
                                         0.0,
                                         0.64000000000000046,
                                         0.0,
                                         0.0,
                                         0.61600000000000044,
                                         0.0,
                                         0.0,
                                         0.5920000000000003,
                                         0.0,
                                         0.0,
                                         0.56800000000000039,
                                         0.0,
                                         0.0,
                                         0.54400000000000037,
                                         0.021053662048776806,
                                         0.0,
                                         0.52000000000000046,
                                         0.052632576176235644,
                                         0.0,
                                         0.4960000000000005,
                                         0.084211490303694389,
                                         0.0,
                                         0.47200000000000047,
                                         0.11579040443115322,
                                         0.0,
                                         0.44800000000000045,
                                         0.14736931855861207,
                                         0.0,
                                         0.42400000000000054,
                                         0.17894823268607082,
                                         0.0,
                                         0.40000000000000052,
                                         0.21052714681352966,
                                         0.0,
                                         0.37600000000000056,
                                         0.24210606094098849,
                                         0.0,
                                         0.35200000000000053,
                                         0.2736849750684473,
                                         0.0,
                                         0.32800000000000051,
                                         0.30526388919590614,
                                         0.0,
                                         0.30400000000000066,
                                         0.3368428033233648,
                                         0.0,
                                         0.28000000000000064,
                                         0.36842171745082364,
                                         0.0,
                                         0.25600000000000067,
                                         0.40000063157828247,
                                         0.0,
                                         0.23200000000000065,
                                         0.43157954570574131,
                                         0.0,
                                         0.20800000000000066,
                                         0.46315845983320014,
                                         0.0,
                                         0.18400000000000064,
                                         0.494737373960659,
                                         0.0,
                                         0.16000000000000078,
                                         0.5263162880881177,
                                         0.0,
                                         0.13600000000000076,
                                         0.55789520221557654,
                                         0.0,
                                         0.11200000000000077,
                                         0.58947411634303537,
                                         0.0,
                                         0.088000000000000758,
                                         0.62105303047049421,
                                         0.0,
                                         0.064000000000000765,
                                         0.652631944597953,
                                         0.0,
                                         0.040000000000000757,
                                         0.68421085872541187,
                                         0.0,
                                         0.016000000000000889,
                                         0.71578977285287049,
                                         0.0,
                                         0.0,
                                         0.74736868698032932,
                                         0.0,
                                         0.0,
                                         0.77894760110778816,
                                         0.0,
                                         0.0,
                                         0.81052651523524688,
                                         0.0,
                                         0.0,
                                         0.84210542936270572,
                                         0.0,
                                         0.0,
                                         0.87368434349016455,
                                         0.0,
                                         0.0,
                                         0.90526325761762338,
                                         0.0,
                                         0.0,
                                         0.93684217174508222,
                                         0.0,
                                         0.0,
                                         0.968421085872541,
                                         0.0,
                                         0.0,
                                         1.0,
                                         0.0,
                                         0.0,
                                         0.968421085872541,
                                         0.0,
                                         0.0,
                                         0.93684217174508222,
                                         0.0,
                                         0.0,
                                         0.90526325761762338,
                                         0.0,
                                         0.0,
                                         0.87368434349016455,
                                         0.0,
                                         0.0,
                                         0.84210542936270572,
                                         0.0,
                                         0.0,
                                         0.81052651523524688,
                                         0.0,
                                         0.0,
                                         0.77894760110778849,
                                         0.0,
                                         0.0,
                                         0.74736868698032966,
                                         0.0,
                                         0.0,
                                         0.71578977285287071,
                                         0.016000000000000625,
                                         0.0,
                                         0.68421085872541187,
                                         0.040000000000000625,
                                         0.0,
                                         0.652631944597953,
                                         0.064000000000000626,
                                         0.0,
                                         0.62105303047049421,
                                         0.088000000000000633,
                                         0.0,
                                         0.58947411634303537,
                                         0.11200000000000064,
                                         0.0,
                                         0.55789520221557654,
                                         0.13600000000000065,
                                         0.0,
                                         0.5263162880881177,
                                         0.16000000000000064,
                                         0.0,
                                         0.49473737396065892,
                                         0.18400000000000064,
                                         0.0,
                                         0.46315845983320009,
                                         0.20800000000000066,
                                         0.0,
                                         0.43157954570574125,
                                         0.23200000000000065,
                                         0.0,
                                         0.40000063157828275,
                                         0.25600000000000039,
                                         0.0,
                                         0.36842171745082392,
                                         0.28000000000000036,
                                         0.0,
                                         0.33684280332336508,
                                         0.30400000000000038,
                                         0.0,
                                         0.30526388919590625,
                                         0.3280000000000004,
                                         0.0,
                                         0.27368497506844741,
                                         0.35200000000000037,
                                         0.0,
                                         0.24210606094098858,
                                         0.37600000000000039,
                                         0.0,
                                         0.21052714681352974,
                                         0.40000000000000041,
                                         0.0,
                                         0.17894823268607091,
                                         0.42400000000000038,
                                         0.0,
                                         0.14736931855861207,
                                         0.4480000000000004,
                                         0.0,
                                         0.11579040443115322,
                                         0.47200000000000042,
                                         0.0,
                                         0.084211490303694389,
                                         0.49600000000000039,
                                         0.0,
                                         0.052632576176235554,
                                         0.52000000000000046,
                                         0.0,
                                         0.02105366204877672,
                                         0.54400000000000037,
                                         0.0,
                                         0.0,
                                         0.56800000000000017,
                                         0.0,
                                         0.0,
                                         0.59200000000000019,
                                         0.0,
                                         0.0,
                                         0.6160000000000001,
                                         0.0,
                                         0.0,
                                         0.64000000000000012,
                                         0.0,
                                         0.0,
                                         0.66400000000000015,
                                         0.0,
                                         0.0,
                                         0.68800000000000017,
                                         0.0,
                                         0.0,
                                         0.71200000000000019,
                                         0.0,
                                         0.0,
                                         0.73600000000000021,
                                         0.0,
                                         0.0,
                                         0.76000000000000012,
                                         0.0,
                                         0.0,
                                         0.78400000000000014,
                                         0.0,
                                         0.0,
                                         0.80800000000000016,
                                         0.0,
                                         0.0,
                                         0.83200000000000018,
                                         0.0,
                                         0.0,
                                         0.85599999999999987,
                                         0.0,
                                         0.0,
                                         0.87999999999999989,
                                         0.0,
                                         0.0,
                                         0.90399999999999991,
                                         0.0,
                                         0.0,
                                         0.92799999999999994,
                                         0.0,
                                         0.0,
                                         0.952,
                                         0.0,
                                         0.0,
                                         0.976,
                                         0.0,
                                         0.0,
                                         1.0,
                                         1.0,
                                         0.0,
                                         0.0,
                                         0.97000000000000008,
                                         0.0,
                                         0.0,
                                         0.94000000000000006,
                                         0.0,
                                         0.0,
                                         0.91000000000000025,
                                         0.0,
                                         0.0,
                                         0.88000000000000023,
                                         0.0,
                                         0.0,
                                         0.8500000000000002,
                                         0.0,
                                         0.0,
                                         0.82000000000000017,
                                         0.0,
                                         0.0,
                                         0.79000000000000026,
                                         0.0,
                                         0.0,
                                         0.76000000000000023,
                                         0.0,
                                         0.0,
                                         0.73000000000000032,
                                         0.0,
                                         0.0,
                                         0.70000000000000029,
                                         0.0,
                                         0.0,
                                         0.67000000000000037,
                                         0.0,
                                         0.0,
                                         0.64000000000000035,
                                         0.0,
                                         0.0,
                                         0.61000000000000043,
                                         0.0,
                                         0.0,
                                         0.5800000000000004,
                                         0.0,
                                         0.0,
                                         0.55000000000000049,
                                         0.0,
                                         0.0,
                                         0.52000000000000046,
                                         0.0,
                                         0.0,
                                         0.49000000000000049,
                                         0.0,
                                         0.0,
                                         0.46000000000000058,
                                         0.0,
                                         0.0,
                                         0.43000000000000055,
                                         0.0,
                                         0.0,
                                         0.40000000000000058,
                                         0.0,
                                         0.0,
                                         0.37000000000000066,
                                         0.0,
                                         0.0,
                                         0.34000000000000064,
                                         0.0,
                                         0.0,
                                         0.31000000000000066,
                                         0.0,
                                         0.0,
                                         0.28000000000000075,
                                         0.0,
                                         0.0,
                                         0.25000000000000072,
                                         0.013158933516912275,
                                         0.0,
                                         0.22000000000000072,
                                         0.052632576176235818,
                                         0.0,
                                         0.19000000000000072,
                                         0.092106218835559361,
                                         0.0,
                                         0.16000000000000072,
                                         0.1315798614948829,
                                         0.0,
                                         0.13000000000000089,
                                         0.17105350415420623,
                                         0.0,
                                         0.10000000000000089,
                                         0.2105271468135298,
                                         0.0,
                                         0.0700000000000009,
                                         0.25000078947285331,
                                         0.0,
                                         0.040000000000000889,
                                         0.28947443213217688,
                                         0.0,
                                         0.010000000000000888,
                                         0.3289480747915004,
                                         0.0,
                                         0.0,
                                         0.36842171745082397,
                                         0.0,
                                         0.0,
                                         0.40789536011014732,
                                         0.0,
                                         0.0,
                                         0.44736900276947084,
                                         0.0,
                                         0.0,
                                         0.48684264542879441,
                                         0.0,
                                         0.0,
                                         0.52631628808811792,
                                         0.0,
                                         0.0,
                                         0.56578993074744144,
                                         0.0,
                                         0.0,
                                         0.60526357340676507,
                                         0.0,
                                         0.0,
                                         0.64473721606608836,
                                         0.0,
                                         0.0,
                                         0.68421085872541187,
                                         0.0,
                                         0.0,
                                         0.7236845013847355,
                                         0.0,
                                         0.0,
                                         0.763158144044059,
                                         0.0,
                                         0.0,
                                         0.80263178670338253,
                                         0.0,
                                         0.0,
                                         0.842105429362706,
                                         0.0,
                                         0.0,
                                         0.88157907202202945,
                                         0.0,
                                         0.0,
                                         0.921052714681353,
                                         0.0,
                                         0.0,
                                         0.96052635734067648,
                                         0.0,
                                         0.0,
                                         1.0,
                                         0.0,
                                         0.0,
                                         0.96052635734067648,
                                         0.0,
                                         0.0,
                                         0.921052714681353,
                                         0.0,
                                         0.0,
                                         0.88157907202202945,
                                         0.0,
                                         0.0,
                                         0.84210542936270583,
                                         0.0,
                                         0.0,
                                         0.80263178670338231,
                                         0.0,
                                         0.0,
                                         0.76315814404405879,
                                         0.0,
                                         0.0,
                                         0.72368450138473572,
                                         0.0,
                                         0.0,
                                         0.6842108587254121,
                                         0.0,
                                         0.0,
                                         0.64473721606608858,
                                         0.0,
                                         0.0,
                                         0.60526357340676507,
                                         0.0,
                                         0.0,
                                         0.56578993074744144,
                                         0.0,
                                         0.0,
                                         0.52631628808811792,
                                         0.0,
                                         0.0,
                                         0.48684264542879441,
                                         0.0,
                                         0.0,
                                         0.44736900276947084,
                                         0.0,
                                         0.0,
                                         0.40789536011014732,
                                         0.0,
                                         0.0,
                                         0.36842171745082375,
                                         0.0,
                                         0.0,
                                         0.32894807479150023,
                                         0.01000000000000089,
                                         0.0,
                                         0.28947443213217666,
                                         0.040000000000000896,
                                         0.0,
                                         0.25000078947285354,
                                         0.070000000000000562,
                                         0.0,
                                         0.21052714681353,
                                         0.10000000000000057,
                                         0.0,
                                         0.17105350415420645,
                                         0.13000000000000059,
                                         0.0,
                                         0.1315798614948829,
                                         0.16000000000000059,
                                         0.0,
                                         0.092106218835559361,
                                         0.19000000000000059,
                                         0.0,
                                         0.052632576176235818,
                                         0.22000000000000058,
                                         0.0,
                                         0.013158933516912275,
                                         0.25000000000000061,
                                         0.0,
                                         0.0,
                                         0.28000000000000058,
                                         0.0,
                                         0.0,
                                         0.31000000000000061,
                                         0.0,
                                         0.0,
                                         0.34000000000000058,
                                         0.0,
                                         0.0,
                                         0.37000000000000061,
                                         0.0,
                                         0.0,
                                         0.40000000000000063,
                                         0.0,
                                         0.0,
                                         0.4300000000000006,
                                         0.0,
                                         0.0,
                                         0.4600000000000003,
                                         0.0,
                                         0.0,
                                         0.49000000000000027,
                                         0.0,
                                         0.0,
                                         0.52000000000000035,
                                         0.0,
                                         0.0,
                                         0.55000000000000027,
                                         0.0,
                                         0.0,
                                         0.58000000000000029,
                                         0.0,
                                         0.0,
                                         0.61000000000000032,
                                         0.0,
                                         0.0,
                                         0.64000000000000035,
                                         0.0,
                                         0.0,
                                         0.67000000000000037,
                                         0.0,
                                         0.0,
                                         0.70000000000000029,
                                         0.0,
                                         0.0,
                                         0.73000000000000032,
                                         0.0,
                                         0.0,
                                         0.76000000000000034,
                                         0.0,
                                         0.0,
                                         0.79000000000000037,
                                         0.0,
                                         0.0,
                                         0.82000000000000006,
                                         0.0,
                                         0.0,
                                         0.85,
                                         0.0,
                                         0.0,
                                         0.88,
                                         0.0,
                                         0.0,
                                         0.91,
                                         0.0,
                                         0.0,
                                         0.94000000000000006,
                                         0.0,
                                         0.0,
                                         0.97000000000000008,
                                         0.0,
                                         0.0,
                                         1.0};
  static const double c_x[101]{
      0.0,  0.01, 0.02, 0.03, 0.04, 0.05, 0.06, 0.07, 0.08, 0.09, 0.1,  0.11,
      0.12, 0.13, 0.14, 0.15, 0.16, 0.17, 0.18, 0.19, 0.2,  0.21, 0.22, 0.23,
      0.24, 0.25, 0.26, 0.27, 0.28, 0.29, 0.3,  0.31, 0.32, 0.33, 0.34, 0.35,
      0.36, 0.37, 0.38, 0.39, 0.4,  0.41, 0.42, 0.43, 0.44, 0.45, 0.46, 0.47,
      0.48, 0.49, 0.5,  0.51, 0.52, 0.53, 0.54, 0.55, 0.56, 0.57, 0.58, 0.59,
      0.6,  0.61, 0.62, 0.63, 0.64, 0.65, 0.66, 0.67, 0.68, 0.69, 0.7,  0.71,
      0.72, 0.73, 0.74, 0.75, 0.76, 0.77, 0.78, 0.79, 0.8,  0.81, 0.82, 0.83,
      0.84, 0.85, 0.86, 0.87, 0.88, 0.89, 0.9,  0.91, 0.92, 0.93, 0.94, 0.95,
      0.96, 0.97, 0.98, 0.99, 1.0};
  static const double dv1[3]{-0.416666666666667, 2.77555756156289E-17,
                             0.302679658952497};
  static const double dv10[3]{0.42481871387038872, 0.597442143727162,
                              0.76991473812423838};
  static const double dv11[3]{0.438336520076482, 1.0, 1.41666666666667};
  static const double dv12[3]{0.55066921606118546, 1.0, 1.3333333333333361};
  static const double dv13[3]{-0.414230946406821, 0.00243605359317906,
                              0.19183922046285};
  static const double dv14[3]{-0.330897546406821, 0.00243605359317906,
                              0.069968489576897344};
  static const double dv15[3]{0.174786845310597, 0.532886723507917, 0.816667};
  static const double dv16[3]{0.25858708891595622, 0.532886723507917,
                              0.75991094470158349};
  static const double dv17[3]{0.532886723507917, 1.0, 1.41667};
  static const double dv18[3]{0.62630937880633364, 1.0, 1.333336};
  static const double dv19[3]{-0.416667, 0.0, 0.251522533495737};
  static const double dv2[3]{-0.33333333333333365, 2.77555756156289E-17,
                             0.15535108398450573};
  static const double dv20[3]{-0.3333336, 0.0, 0.16467722289890385};
  static const double dv21[3]{0.184531059683313, 0.700956022944551,
                              0.817623022944551};
  static const double dv22[3]{0.28781605233556051, 0.700956022944551,
                              0.79428962294455108};
  static const double dv23[3]{0.583333, 1.0, 1.41667};
  static const double dv24[3]{0.6666664, 1.0, 1.333336};
  static const double dv3[3]{0.177222898903776, 0.484165651644336, 0.816667};
  static const double dv4[3]{0.32021924482338615, 0.484165651644336,
                             0.68098260865477056};
  static const double dv5[3]{0.696102314250914, 1.0, 1.41666666666667};
  static const double dv6[3]{0.8395622818196522, 1.0, 1.3333333333333361};
  static const double dv7[3]{-0.416666666666667, 0.0, 0.197929354445798};
  static const double dv8[3]{-0.33333333333333365, 0.0, 0.10238433016228966};
  static const double dv9[3]{0.186967113276492, 0.597442143727162,
                             0.855663824604141};
  static const signed char iv[68]{
      1, 2, 2, 2, 2, 3, 3, 3, 3, 3, 3, 3, 3, 3, 3, 3, 3, 0, 2, 2, 0, 0, 2,
      3, 0, 0, 1, 1, 3, 1, 1, 3, 3, 1, 0, 2, 0, 2, 0, 1, 0, 3, 0, 2, 3, 1,
      1, 1, 2, 1, 1, 0, 2, 0, 0, 2, 0, 0, 0, 3, 0, 0, 0, 2, 3, 0, 0, 1};
  static const signed char iv1[17]{1, 1, 1, 1, 1, 1, 1, 1, 1,
                                   2, 2, 2, 2, 3, 1, 2, 3};
  double orr[3434];
  double arr[202];
  double irr[136];
  double b_mf[101];
  double b_x[101];
  double lmf[101];
  double mf[101];
  double umf[101];
  double w[34];
  double dv[24];
  double b_orr[2];
  double aggVal;
  double d;
  double soln;
  double soln_tmp;
  double y;
  int mfIndex;
  int ruleID;
  int sampleID;
  std::memset(&irr[0], 0, 136U * sizeof(double));
  dv[0] = coder::fuzzy::internal::codegen::trimf(x[0], dv1);
  dv[1] = coder::fuzzy::internal::codegen::trimf(x[0], dv2);
  dv[2] = coder::fuzzy::internal::codegen::trimf(x[0], dv3);
  dv[3] = coder::fuzzy::internal::codegen::trimf(x[0], dv4);
  dv[4] = coder::fuzzy::internal::codegen::trimf(x[0], dv5);
  dv[5] = coder::fuzzy::internal::codegen::trimf(x[0], dv6);
  dv[6] = coder::fuzzy::internal::codegen::trimf(x[1], dv7);
  dv[7] = coder::fuzzy::internal::codegen::trimf(x[1], dv8);
  dv[8] = coder::fuzzy::internal::codegen::trimf(x[1], dv9);
  dv[9] = coder::fuzzy::internal::codegen::trimf(x[1], dv10);
  dv[10] = coder::fuzzy::internal::codegen::trimf(x[1], dv11);
  dv[11] = coder::fuzzy::internal::codegen::trimf(x[1], dv12);
  dv[12] = coder::fuzzy::internal::codegen::trimf(x[2], dv13);
  dv[13] = coder::fuzzy::internal::codegen::trimf(x[2], dv14);
  dv[14] = coder::fuzzy::internal::codegen::trimf(x[2], dv15);
  dv[15] =
      coder::fuzzy::internal::codegen::trimf(x[2], dv16) * 0.992537313432836;
  dv[16] = coder::fuzzy::internal::codegen::trimf(x[2], dv17);
  dv[17] = coder::fuzzy::internal::codegen::trimf(x[2], dv18);
  dv[18] = coder::fuzzy::internal::codegen::trimf(x[3], dv19);
  dv[19] = coder::fuzzy::internal::codegen::trimf(x[3], dv20);
  dv[20] = coder::fuzzy::internal::codegen::trimf(x[3], dv21);
  dv[21] = coder::fuzzy::internal::codegen::trimf(x[3], dv22);
  dv[22] = coder::fuzzy::internal::codegen::trimf(x[3], dv23);
  dv[23] = coder::fuzzy::internal::codegen::trimf(x[3], dv24);
  for (ruleID = 0; ruleID < 17; ruleID++) {
    mfIndex = iv[ruleID];
    if (mfIndex == 0) {
      irr[ruleID] = 1.0;
      irr[ruleID + 68] = 1.0;
    } else {
      mfIndex = (mfIndex - 1) << 1;
      irr[ruleID] = dv[mfIndex];
      irr[ruleID + 68] = dv[mfIndex + 1];
    }
    mfIndex = iv[ruleID + 17];
    if (mfIndex == 0) {
      irr[ruleID + 17] = 1.0;
      irr[ruleID + 85] = 1.0;
    } else {
      mfIndex = (mfIndex + 2) << 1;
      irr[ruleID + 17] = dv[mfIndex];
      irr[ruleID + 85] = dv[mfIndex + 1];
    }
    mfIndex = iv[ruleID + 34];
    if (mfIndex == 0) {
      irr[ruleID + 34] = 1.0;
      irr[ruleID + 102] = 1.0;
    } else {
      mfIndex = (mfIndex + 5) << 1;
      irr[ruleID + 34] = dv[mfIndex];
      irr[ruleID + 102] = dv[mfIndex + 1];
    }
    mfIndex = iv[ruleID + 51];
    if (mfIndex == 0) {
      irr[ruleID + 51] = 1.0;
      irr[ruleID + 119] = 1.0;
    } else {
      mfIndex = (mfIndex + 8) << 1;
      irr[ruleID + 51] = dv[mfIndex];
      irr[ruleID + 119] = dv[mfIndex + 1];
    }
  }
  std::memset(&w[0], 0, 34U * sizeof(double));
  soln = 0.0;
  soln_tmp = 0.0;
  for (ruleID = 0; ruleID < 17; ruleID++) {
    double irrOfOneRule[8];
    irrOfOneRule[0] = irr[ruleID];
    irrOfOneRule[4] = irr[ruleID + 68];
    irrOfOneRule[1] = irr[ruleID + 17];
    irrOfOneRule[5] = irr[ruleID + 85];
    irrOfOneRule[2] = irr[ruleID + 34];
    irrOfOneRule[6] = irr[ruleID + 102];
    irrOfOneRule[3] = irr[ruleID + 51];
    irrOfOneRule[7] = irr[ruleID + 119];
    aggVal =
        coder::fuzzy::internal::codegen::evaluateAndMethod(&irrOfOneRule[0]);
    w[ruleID] = aggVal;
    d = coder::fuzzy::internal::codegen::evaluateAndMethod(&irrOfOneRule[4]);
    w[ruleID + 17] = d;
    soln += aggVal;
    soln_tmp += d;
  }
  std::memset(&orr[0], 0, 3434U * sizeof(double));
  for (ruleID = 0; ruleID < 17; ruleID++) {
    mfIndex = iv1[ruleID] - 1;
    aggVal = w[ruleID];
    d = w[ruleID + 17];
    for (sampleID = 0; sampleID < 101; sampleID++) {
      b_orr[0] = outputMFCache[mfIndex + 3 * sampleID];
      b_orr[1] = aggVal;
      orr[sampleID + 101 * ruleID] = coder::internal::minimum(b_orr);
      b_orr[0] = outputMFCache[mfIndex + 3 * (sampleID + 101)];
      b_orr[1] = d;
      orr[sampleID + 101 * (ruleID + 17)] = coder::internal::minimum(b_orr);
    }
  }
  for (sampleID = 0; sampleID < 101; sampleID++) {
    aggVal = orr[sampleID];
    for (ruleID = 0; ruleID < 16; ruleID++) {
      b_orr[0] = aggVal;
      b_orr[1] = orr[sampleID + 101 * (ruleID + 1)];
      aggVal = coder::internal::maximum(b_orr);
    }
    arr[sampleID] = aggVal;
    aggVal = orr[sampleID + 1717];
    for (ruleID = 0; ruleID < 16; ruleID++) {
      b_orr[0] = aggVal;
      b_orr[1] = orr[sampleID + 101 * (ruleID + 18)];
      aggVal = coder::internal::maximum(b_orr);
    }
    arr[sampleID + 101] = aggVal;
  }
  if ((soln == 0.0) && (soln_tmp == 0.0)) {
    y = 0.5;
  } else {
    std::copy(&arr[0], &arr[101], &umf[0]);
    y = arr[0];
    for (mfIndex = 0; mfIndex < 100; mfIndex++) {
      y += arr[mfIndex + 1];
    }
    if (y == 0.0) {
      y = 0.5;
    } else {
      std::copy(&arr[101], &arr[202], &lmf[0]);
      std::copy(&c_x[0], &c_x[101], &b_x[0]);
      sampleID = 0;
      for (mfIndex = 0; mfIndex < 101; mfIndex++) {
        if (umf[mfIndex] > 0.0) {
          sampleID++;
          if (mfIndex + 1 != sampleID) {
            aggVal = b_x[sampleID - 1];
            b_x[sampleID - 1] = b_x[mfIndex];
            b_x[mfIndex] = aggVal;
            aggVal = umf[sampleID - 1];
            umf[sampleID - 1] = umf[mfIndex];
            umf[mfIndex] = aggVal;
            aggVal = lmf[sampleID - 1];
            lmf[sampleID - 1] = lmf[mfIndex];
            lmf[mfIndex] = aggVal;
          }
        }
      }
      if (sampleID == 1) {
        soln = b_x[0];
        soln_tmp = b_x[0];
      } else {
        aggVal = 0.0;
        for (mfIndex = 0; mfIndex < sampleID; mfIndex++) {
          aggVal += lmf[mfIndex];
        }
        if (aggVal == 0.0) {
          soln = b_x[0];
          soln_tmp = b_x[sampleID - 1];
        } else {
          boolean_T exitg1;
          boolean_T exitg2;
          for (mfIndex = 0; mfIndex <= 98; mfIndex += 2) {
            __m128d r;
            __m128d r1;
            r = _mm_loadu_pd(&umf[mfIndex]);
            r1 = _mm_loadu_pd(&lmf[mfIndex]);
            r = _mm_mul_pd(_mm_add_pd(r, r1), _mm_set1_pd(0.5));
            _mm_storeu_pd(&mf[mfIndex], r);
            _mm_storeu_pd(&b_mf[mfIndex], r);
          }
          aggVal = (umf[100] + lmf[100]) * 0.5;
          mf[100] = aggVal;
          b_mf[100] = aggVal;
          soln_tmp = coder::centroid(b_x, mf, sampleID);
          soln = soln_tmp;
          aggVal = soln_tmp + 1.0;
          ruleID = 0;
          exitg1 = false;
          while ((!exitg1) && (soln != aggVal)) {
            mfIndex = 0;
            exitg2 = false;
            while ((!exitg2) && (mfIndex <= sampleID - 2)) {
              ruleID = mfIndex + 1;
              if ((soln >= b_x[mfIndex]) && (soln <= b_x[mfIndex + 1])) {
                exitg2 = true;
              } else {
                mfIndex++;
              }
            }
            aggVal = soln;
            if (ruleID >= 1) {
              std::copy(&umf[0], &umf[ruleID], &b_mf[0]);
            }
            mfIndex = ruleID + 1;
            if (mfIndex <= sampleID) {
              std::copy(&lmf[mfIndex + -1],
                        &lmf[mfIndex + (sampleID - mfIndex)],
                        &b_mf[mfIndex + -1]);
            }
            soln = coder::centroid(b_x, b_mf, sampleID);
            if (soln > aggVal) {
              soln = aggVal;
              exitg1 = true;
            }
          }
          aggVal = soln_tmp + 1.0;
          ruleID = 0;
          exitg1 = false;
          while ((!exitg1) && (soln_tmp != aggVal)) {
            mfIndex = 0;
            exitg2 = false;
            while ((!exitg2) && (mfIndex <= sampleID - 2)) {
              ruleID = mfIndex + 1;
              if ((soln_tmp >= b_x[mfIndex]) &&
                  (soln_tmp <= b_x[mfIndex + 1])) {
                exitg2 = true;
              } else {
                mfIndex++;
              }
            }
            aggVal = soln_tmp;
            if (ruleID >= 1) {
              std::copy(&lmf[0], &lmf[ruleID], &mf[0]);
            }
            mfIndex = ruleID + 1;
            if (mfIndex <= sampleID) {
              std::copy(&umf[mfIndex + -1],
                        &umf[mfIndex + (sampleID - mfIndex)],
                        &mf[mfIndex + -1]);
            }
            soln_tmp = coder::centroid(b_x, mf, sampleID);
            if (soln_tmp < aggVal) {
              soln_tmp = aggVal;
              exitg1 = true;
            }
          }
        }
      }
      y = (soln + soln_tmp) / 2.0;
    }
  }
  return y;
}

//
// File trailer for evaluateMyFIS.cpp
//
// [EOF]
//
